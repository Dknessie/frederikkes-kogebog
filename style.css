/* =================================================================
   STILGUIDE & DESIGN SYSTEM: Vores Hjem
   ================================================================= */

/* ===== 1. Generel Styling & Variabler ===== */
:root {
    /* Farvepalette */
    --primary-color: #d1603d;
    --secondary-color: #f3f0e9;
    --accent-color: #5d8a66;
    --text-color: #3d3d3d;
    --border-color: #e0e0e0;
    --light-bg-color: #fdfdfd;
    --white-color: #ffffff;
    
    /* NEW: Theme colors for calendar */
    --theme-bg: #F5F5F1;
    --theme-light-blue: #E3F2FD;
    --theme-grey: #B0B0B0;

    /* NEW: Bosch-inspirerede farver til Materialer */
    --bosch-green: #007bc0;
    --bosch-red: #c4002f;

    /* Statusfarver */
    --status-green: #4CAF50;
    --status-yellow: #FFC107;
    --status-red: #F44336;
    --deleted-color: #757575;

    /* Typografi */
    --heading-font: 'Playfair Display', serif;
    --body-font: 'Inter', sans-serif;
    --base-font-size: 16px;
    --small-font-size: 0.875rem; /* 14px */

    /* Layout & Mellemrum */
    --border-radius: 6px;
    --card-border-radius: 8px;
    --shadow: 0 2px 5px rgba(0,0,0,0.08);
    --strong-shadow: 0 4px 12px rgba(0,0,0,0.1);
    --spacing-xs: 0.25rem; /* 4px */
    --spacing-s: 0.5rem;   /* 8px */
    --spacing-m: 0.75rem;  /* 12px */
    --spacing-l: 1.25rem;  /* 20px */
    --spacing-xl: 2rem;    /* 32px */
    --mobile-tab-bar-height: 60px;
}

body {
    font-family: var(--body-font);
    background-color: var(--secondary-color);
    color: var(--text-color);
    margin: 0;
    line-height: 1.6;
    font-size: var(--base-font-size);
}

.hidden { display: none !important; }

.page {
    padding: var(--spacing-l);
    max-width: 1600px;
    margin: 0 auto;
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

h1, h2, h3, h4, h5 {
    font-family: var(--heading-font);
    color: var(--primary-color);
}

hr {
    border: none;
    border-top: 1px solid var(--border-color);
    margin: var(--spacing-l) 0;
}

.small-text {
    font-size: var(--small-font-size);
    color: #666;
    margin-top: calc(-1 * var(--spacing-m) + 4px);
    margin-bottom: var(--spacing-m);
}

/* ===== 2. Login Side ===== */
#login-page {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

.login-container {
    background: var(--white-color);
    padding: var(--spacing-xl);
    border-radius: var(--card-border-radius);
    box-shadow: var(--strong-shadow);
    text-align: center;
    max-width: 400px;
    width: 100%;
}

.app-title {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-s);
}

.app-subtitle {
    margin-bottom: var(--spacing-l);
    color: #777;
}

.error-message {
    color: var(--status-red);
    margin-top: var(--spacing-m);
    min-height: 1.2em;
}

/* ===== 3. Knapper ===== */
.btn {
    padding: var(--spacing-m) var(--spacing-l);
    border: 1px solid transparent;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-weight: 600;
    font-size: var(--small-font-size);
    transition: all 0.2s ease;
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-s);
    justify-content: center;
    text-decoration: none;
    box-shadow: var(--shadow);
}
.btn:hover:not(:disabled) {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}
.btn:disabled {
    background-color: #ccc;
    cursor: not-allowed;
    color: #888;
    box-shadow: none;
}

.btn-primary {
    background-color: var(--primary-color);
    color: var(--white-color);
}
.btn-primary:hover:not(:disabled) {
    background-color: #b95535;
}

.btn-secondary {
    background-color: var(--white-color);
    color: var(--text-color);
    border-color: var(--border-color);
}
.btn-secondary:hover:not(:disabled) {
    background-color: var(--light-bg-color);
    border-color: #bbb;
}
.btn-secondary.active {
    background-color: var(--accent-color);
    color: var(--white-color);
    border-color: var(--accent-color);
}

.btn-accent {
    background-color: var(--accent-color);
    color: var(--white-color);
}
.btn-accent:hover:not(:disabled) {
    background-color: #4a7553;
}


.btn-danger {
    background-color: var(--status-red);
    color: var(--white-color);
}
.btn-danger:hover:not(:disabled) {
    background-color: #C62828;
}

.btn-icon {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
    color: #777;
    padding: var(--spacing-s);
    box-shadow: none;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}
.btn-icon:hover:not(:disabled) {
    background-color: #eee;
    color: var(--accent-color);
}
.btn-icon.remove-meal-btn {
    font-size: 0.8rem;
    width: 20px;
    height: 20px;
    color: #aaa;
}
.btn-icon.remove-meal-btn:hover {
    background-color: transparent;
    color: var(--status-red);
}
.btn-icon:disabled {
    color: #ccc;
    cursor: not-allowed;
}


/* ===== 4. App Layout (Header & Main) ===== */
#app-container {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

header {
    background-color: var(--white-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    padding: 0 var(--spacing-l);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1600px;
    margin: 0 auto;
    height: 65px;
}

.header-title-link {
    text-decoration: none;
}

.header-title {
    font-family: var(--heading-font);
    font-size: 1.5rem;
    color: var(--primary-color);
}

.desktop-nav {
    display: flex;
    gap: var(--spacing-m);
}

.nav-link {
    text-decoration: none;
    color: var(--text-color);
    font-weight: 600;
    padding: var(--spacing-s);
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: var(--spacing-s);
}

.nav-link:hover, .nav-link.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}
.nav-link.active i {
    color: var(--accent-color);
}

.btn-logout {
    background: none;
    border: none;
    font-size: 1.5rem;
    color: #777;
    cursor: pointer;
}
.btn-logout:hover {
    color: var(--primary-color);
}

#app-main-content {
    flex-grow: 1;
    padding-bottom: calc(var(--mobile-tab-bar-height) + var(--spacing-m));
}

/* ===== 5. NEW CALENDAR DESIGN ===== */
#calendar .page {
    padding: 0;
}
.calendar-main-container {
    background-color: var(--theme-bg);
    border-radius: var(--card-border-radius);
    padding: var(--spacing-l);
    box-shadow: var(--strong-shadow);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-l);
}
.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--spacing-m);
}
.calendar-nav {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    flex-grow: 1; /* Allow nav to take space */
}
.calendar-title-wrapper {
    flex-grow: 1;
    text-align: center;
}
.calendar-title-wrapper h2 {
    margin: 0;
}
.calendar-nav .btn {
    flex-shrink: 0; /* Prevent buttons from shrinking */
}
.calendar-view-toggle {
    display: flex;
    background-color: var(--secondary-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-xs);
}
.calendar-view-toggle .btn {
    background-color: transparent;
    border: none;
    box-shadow: none;
}
.calendar-view-toggle .btn.active {
    background-color: var(--white-color);
    box-shadow: var(--shadow);
}
.calendar-actions {
    display: flex;
    gap: var(--spacing-m);
}
.calendar-view { display: none; }
.calendar-view.active { display: block; }

/* Week View */
.calendar-week-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--spacing-m);
    margin-bottom: var(--spacing-s);
    padding: 0 var(--spacing-s);
}
.calendar-week-day-header {
    text-align: center;
    font-weight: 600;
    color: var(--text-color);
}
.calendar-week-day-header .date-number {
    font-size: var(--small-font-size);
    color: #777;
    margin-left: var(--spacing-s);
}
.calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--spacing-m);
}
.calendar-day-card {
    background-color: var(--white-color);
    border-radius: var(--card-border-radius);
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    min-height: 400px;
    position: relative;
    transition: all 0.2s ease-in-out;
}

/* NEW: Style for current day ring */
.calendar-day-card.is-today {
    box-shadow: 0 0 0 4px var(--accent-color);
    border: 2px solid var(--accent-color);
}
.meal-slot {
    flex: 1;
    padding: var(--spacing-s);
    border-bottom: 1px dashed var(--border-color);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-s);
    position: relative;
}
.meal-slot[data-meal="events"] {
    flex: 0 0 auto;
    min-height: 60px;
    border-bottom: 1px solid var(--border-color);
}
.meal-slot:last-child {
    border-bottom: none;
}
.meal-slot.drag-over {
    background-color: var(--theme-light-blue);
}
.add-event-to-slot-btn {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid var(--border-color);
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    opacity: 0;
    transition: all 0.2s ease;
}
.meal-slot:hover .add-event-to-slot-btn {
    opacity: 1;
}
.add-event-to-slot-btn:hover {
    transform: translate(-50%, -50%) scale(1.1);
    background-color: var(--white-color);
}

.calendar-event {
    padding: var(--spacing-s);
    border-radius: var(--border-radius);
    font-size: var(--small-font-size);
    cursor: grab;
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-s);
    border-left: 4px solid;
    background-color: var(--light-bg-color);
}
.calendar-event.is-dragging {
    opacity: 0.5;
}
.calendar-event .event-content {
    flex-grow: 1;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.calendar-event .event-actions {
    display: flex;
    opacity: 0;
    transition: opacity 0.2s ease;
}
.calendar-event:hover .event-actions {
    opacity: 1;
}
.calendar-event.recipe { border-color: var(--primary-color); }
.calendar-event.project { border-color: var(--accent-color); }
.calendar-event.task { border-color: var(--theme-grey); }
.calendar-event.fødselsdag { border-color: #E91E63; }
.calendar-event.aftale { border-color: #2196F3; }
.calendar-event.udgivelse { border-color: #9C27B0; }

.calendar-event.is-cooked {
    opacity: 0.6;
    text-decoration: line-through;
}
#day-details-content .calendar-event {
    cursor: pointer;
}
#day-details-content .calendar-event:hover {
    background-color: var(--secondary-color);
}

/* Month View */
.calendar-month-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
    font-weight: 600;
    margin-bottom: var(--spacing-m);
    padding: var(--spacing-s) 0;
    border-bottom: 1px solid var(--border-color);
}
.calendar-month-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--spacing-s);
}
.calendar-month-day {
    background-color: var(--white-color);
    border-radius: var(--border-radius);
    min-height: 100px;
    padding: var(--spacing-s);
    cursor: pointer;
    transition: box-shadow 0.2s ease;
}
.calendar-month-day:hover {
    box-shadow: var(--strong-shadow);
}
.calendar-month-day.is-today .month-day-number {
    background-color: var(--theme-light-blue);
    color: var(--text-color);
    border-radius: 50%;
}
.month-day-number {
    font-weight: 600;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.event-dots-container {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    margin-top: var(--spacing-s);
}
.event-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}
.event-dot.recipe { background-color: var(--primary-color); }
.event-dot.project { background-color: var(--accent-color); }
.event-dot.task { background-color: var(--theme-grey); }
.event-dot.fødselsdag { background-color: #E91E63; }
.event-dot.aftale { background-color: #2196F3; }
.event-dot.udgivelse { background-color: #9C27B0; }


/* ===== 6. Indkøbsliste Modal & Temaer ===== */
.shopping-list-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-m);
}
.shopping-list-header h3 {
    margin: 0;
}

#shopping-list-modal-content-wrapper {
    margin-top: var(--spacing-l);
}

.shopping-list-actions {
    margin-top: var(--spacing-l);
    padding-top: var(--spacing-l);
    border-top: 1px solid var(--border-color);
}

.add-item-form {
    display: flex;
    gap: var(--spacing-s);
    margin-top: var(--spacing-m);
}
.add-item-form input {
    flex-grow: 1;
    padding: var(--spacing-m);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
}
.add-item-form button {
    flex-shrink: 0;
    font-size: 1.4rem;
    color: var(--accent-color);
    background-color: var(--secondary-color);
    border-radius: var(--border-radius);
    width: 44px;
    height: 44px;
}
.add-item-form button:hover {
    background-color: #e9e5dc;
}


/* Tema 1: Dagligvarer (Notesblok) */
.shopping-list-theme-groceries {
    background-image:
        repeating-linear-gradient(to bottom, transparent, transparent 24px, #e0e0e0 25px);
    background-color: #fff;
    font-family: 'Georgia', serif;
    padding: var(--spacing-l);
}
.shopping-list-theme-groceries .shopping-list-item {
    padding: var(--spacing-s) 0;
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
}
.shopping-list-theme-groceries .shopping-list-item-label {
    cursor: pointer;
    flex-grow: 1;
}
.shopping-list-theme-groceries .shopping-list-item.is-checked .shopping-list-item-label {
    text-decoration: line-through;
    color: #888;
    text-decoration-color: var(--status-red);
}
.shopping-list-theme-groceries .store-section h4 {
    font-family: 'Playfair Display', serif;
    color: var(--primary-color);
    border-bottom: 2px solid var(--primary-color);
}
.shopping-list-theme-groceries ul {
    list-style: none;
    padding: 0;
}

/* Tema 2: Materialer (Værktøjskasse - nu Bosch) */
.modal-content.shopping-list-theme-materials {
    background-color: var(--bosch-green);
    color: var(--white-color);
}
.modal-content.shopping-list-theme-materials .shopping-list-header h3,
.modal-content.shopping-list-theme-materials h4,
.modal-content.shopping-list-theme-materials .close-modal-btn {
    color: var(--white-color);
}
.modal-content.shopping-list-theme-materials .project-group h4 {
    font-family: var(--body-font);
    font-weight: 700;
    font-size: 1.1rem;
    padding-bottom: var(--spacing-s);
    border-bottom: 1px solid var(--white-color);
}
.modal-content.shopping-list-theme-materials .material-row {
    display: grid;
    grid-template-columns: 1fr 80px 80px 100px;
    gap: var(--spacing-l);
    padding: var(--spacing-m) 0;
    border-bottom: 1px solid rgba(255,255,255,0.2);
    align-items: center;
    color: var(--white-color);
}
.modal-content.shopping-list-theme-materials .material-header {
    font-weight: 600;
    text-transform: uppercase;
}
.modal-content.shopping-list-theme-materials .material-name {
    font-weight: 700;
}
.modal-content.shopping-list-theme-materials .add-item-form input {
    background-color: var(--white-color);
    color: var(--text-color);
    border-color: var(--border-color);
}
.modal-content.shopping-list-theme-materials .add-item-form button {
    background-color: var(--bosch-red);
    color: var(--white-color);
}


/* Tema 3: Ønskeliste (Opslagstavle) */
.shopping-list-theme-wishlist .wishlist-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: var(--spacing-l);
}
.wishlist-card {
    background: var(--white-color);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    overflow: hidden;
    position: relative;
}
.wishlist-card-image {
    width: 100%;
    height: 150px;
    object-fit: cover;
    background-color: #f0f0f0;
}
.wishlist-card-content {
    padding: var(--spacing-m);
}
.wishlist-card-title {
    font-weight: 600;
    margin-bottom: var(--spacing-s);
    display: block;
}
.wishlist-card-price {
    color: var(--accent-color);
    font-weight: 700;
}
.wishlist-card-actions {
    position: absolute;
    top: 5px;
    right: 5px;
    background: rgba(255,255,255,0.8);
    border-radius: 50%;
}
.wishlist-card a {
    text-decoration: none;
    color: inherit;
}

/* ===== 7. Kogebog, Hjem & Referencer Sider ===== */
.actions-bar {
    margin-bottom: var(--spacing-l);
    display: flex;
    gap: var(--spacing-m);
    flex-wrap: wrap;
}
.recipe-actions-bar {
    justify-content: space-between;
    align-items: center;
}

.filter-container {
    margin-bottom: var(--spacing-l);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-m);
}
.filter-tag {
    background-color: var(--white-color);
    border: 1px solid var(--border-color);
    padding: var(--spacing-s) var(--spacing-m);
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    font-size: var(--small-font-size);
}
.filter-tag.active {
    background-color: var(--accent-color);
    color: var(--white-color);
    border-color: var(--accent-color);
}

.recipe-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: var(--spacing-l);
}

.recipe-card {
    background: var(--white-color);
    border-radius: var(--card-border-radius);
    box-shadow: var(--strong-shadow);
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    position: relative;
}
.recipe-card:hover { transform: translateY(-5px); }

.recipe-card-image {
    width: 100%;
    height: 180px;
    object-fit: cover;
}

.recipe-card-content { padding: var(--spacing-m); flex-grow: 1; cursor: pointer; }
.recipe-card-category { font-size: 0.75rem; font-weight: 600; color: var(--primary-color); }
.recipe-card h4 { margin: var(--spacing-xs) 0 var(--spacing-s); color: var(--text-color); }
.recipe-card-tags { margin-top: auto; padding-top: var(--spacing-s); display: flex; flex-wrap: wrap; gap: var(--spacing-s); }
.recipe-card-tag { background-color: #eee; padding: 0.15rem 0.5rem; border-radius: 12px; font-size: 0.7rem; }
.recipe-card-actions { display: flex; justify-content: flex-end; align-items: center; gap: var(--spacing-s); padding: var(--spacing-s) var(--spacing-m); border-top: 1px solid #eee; }
.favorite-icon { font-size: 1.2rem; color: #ddd; cursor: pointer; }
.favorite-icon.is-favorite { color: #E91E63; }

.status-indicator {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    border: 2px solid var(--white-color);
}
.status-indicator.status-green { background-color: var(--status-green); }
.status-indicator.status-yellow { background-color: var(--status-yellow); }
.status-indicator.status-red { background-color: var(--status-red); }

/* Varelager Dashboard Styling */
.inventory-dashboard {
    background: var(--white-color);
    border-radius: var(--card-border-radius);
    box-shadow: var(--strong-shadow);
    padding: var(--spacing-l);
}

.inventory-summary-bar {
    background-color: var(--secondary-color);
    padding: var(--spacing-m) var(--spacing-l);
    border-radius: var(--border-radius);
    margin-bottom: var(--spacing-l);
    display: flex;
    justify-content: space-between;
    font-weight: 600;
}

.inventory-controls {
    display: flex;
    justify-content: space-between;
    gap: var(--spacing-l);
    margin-bottom: var(--spacing-m);
    align-items: center;
    flex-wrap: wrap;
}

.inventory-controls .search-bar {
    flex-grow: 1;
    min-width: 250px;
    max-width: 400px;
}

/* UPDATED: Standardized Search Bar Styling */
.search-bar {
    position: relative;
}
.search-bar i {
    position: absolute;
    right: var(--spacing-m);
    top: 50%;
    transform: translateY(-50%);
    color: #aaa;
    pointer-events: none; /* So you can click through the icon */
}
.search-bar input {
    width: 100%;
    padding: var(--spacing-m);
    padding-right: calc(var(--spacing-m) * 2 + 1em); /* Space for the icon */
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius); /* Ensure rounded corners */
}


.inventory-filters {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--spacing-m);
    margin-bottom: var(--spacing-l);
    padding-top: var(--spacing-m);
    border-top: 1px solid var(--border-color);
    align-items: flex-end;
}
.inventory-filters .input-group {
    margin-bottom: 0;
}
.inventory-filters select {
    width: 100%;
    padding: var(--spacing-s);
    border: 1px solid #ccc;
    border-radius: var(--border-radius);
    box-sizing: border-box;
    font-size: 0.8rem;
    height: 38px;
    text-overflow: ellipsis;
}
.inventory-filters .btn {
    height: 38px;
    padding: var(--spacing-s) var(--spacing-m);
    font-size: var(--small-font-size);
    white-space: nowrap;
}


#inventory-list-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-s);
}
.inventory-category-group h3 {
    margin-top: var(--spacing-l);
    margin-bottom: var(--spacing-s);
    padding-bottom: var(--spacing-s);
    border-bottom: 2px solid var(--secondary-color);
}
.inventory-category-group h4 {
    margin-top: var(--spacing-m);
    margin-bottom: var(--spacing-s);
    color: var(--text-color);
    font-size: 1rem;
    font-family: var(--body-font);
}

.inventory-item {
    background-color: var(--white-color);
    border-radius: var(--border-radius);
    box-shadow: var(--shadow);
    border: 1px solid var(--border-color);
    transition: box-shadow 0.2s ease-in-out;
}
.inventory-item.is-open {
    box-shadow: var(--strong-shadow);
}
.inventory-item.is-open .expand-icon {
    transform: rotate(180deg);
}

.inventory-item-header {
    display: flex;
    align-items: center;
    padding: var(--spacing-s) var(--spacing-l);
    cursor: pointer;
    gap: var(--spacing-m);
}

.inventory-item-info {
    flex-grow: 1;
    min-width: 0;
}

.inventory-item-title-group {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
}
.inventory-item-location {
    font-size: var(--small-font-size);
    color: #777;
    font-style: italic;
}

.inventory-item-header h5 {
    margin: 0;
    color: var(--text-color);
    font-family: var(--body-font);
    font-size: 1.1rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.completeness-indicator {
    font-size: 1rem;
    cursor: help;
    flex-shrink: 0;
}
.completeness-indicator.status-green { color: var(--status-green); }
.completeness-indicator.status-yellow { color: var(--status-yellow); }
.completeness-indicator.status-red { color: var(--status-red); }

.inventory-item-stock-info {
    flex-shrink: 0;
    width: 140px;
    text-align: right;
    padding: 0 var(--spacing-m);
}

.inventory-item-actions {
    flex-shrink: 0;
}

.expand-icon {
    transition: transform 0.3s ease;
    color: #aaa;
}

.batch-list {
    padding: 0 var(--spacing-l);
    background-color: var(--light-bg-color);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
}
.inventory-item.is-open .batch-list {
    max-height: 500px;
    padding: var(--spacing-m) var(--spacing-l);
    border-top: 1px solid var(--border-color);
}

.batch-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--spacing-m);
    padding: var(--spacing-s) 0;
    border-bottom: 1px solid #f0f0f0;
    font-size: var(--small-font-size);
    flex-wrap: wrap;
}
.batch-item:last-child {
    border-bottom: none;
}
.batch-info {
    color: #333;
    white-space: nowrap;
}
.batch-info.status-red { color: var(--status-red); font-weight: 600; }
.batch-info.status-yellow { color: var(--status-yellow); font-weight: 600; }
.batch-item .edit-batch-btn {
    margin-left: auto;
}

.empty-state, .empty-state-small {
    font-style: italic;
    color: #888;
    padding: var(--spacing-m) 0;
    text-align: center;
}

/* Referencer Side */
.references-layout {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    gap: var(--spacing-l);
}
.reference-card {
    background-color: var(--white-color);
    border-radius: var(--card-border-radius);
    box-shadow: var(--shadow);
    padding: var(--spacing-l);
    display: flex;
    flex-direction: column;
}
.reference-card h4 {
    margin-top: 0;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: var(--spacing-m);
}
.reference-list {
    list-style: none;
    padding: 0;
    margin: 0;
    flex-grow: 1;
    overflow-y: auto;
}
.reference-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-s) 0;
    border-bottom: 1px solid #f0f0f0;
}
.reference-item:last-child {
    border-bottom: none;
}
.reference-actions {
    display: flex;
    align-items: center;
}
.edit-container {
    display: flex;
    flex-grow: 1;
    align-items: center;
    gap: var(--spacing-s);
}
.edit-reference-input {
    flex-grow: 1;
    padding: var(--spacing-s);
    border: 1px solid var(--primary-color);
    border-radius: var(--border-radius);
}
.edit-actions {
    display: flex;
}
.add-reference-form {
    display: flex;
    gap: var(--spacing-s);
    margin-top: var(--spacing-m);
    border-top: 1px solid var(--border-color);
    padding-top: var(--spacing-m);
}
.add-reference-form .input-group {
    flex-grow: 1;
    margin-bottom: 0;
}
.add-reference-form input {
    width: 100%;
}
.add-reference-form .btn {
    padding: var(--spacing-m);
}
.category-item {
    display: flex;
    flex-direction: column;
    padding: var(--spacing-s) 0;
    border-bottom: 1px solid #f0f0f0;
}
.category-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
}
.subcategory-list {
    list-style: none;
    padding-left: var(--spacing-l);
    margin-top: var(--spacing-s);
}
.subcategory-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-xs) 0;
}
.add-subcategory-form {
    display: flex;
    gap: var(--spacing-s);
    margin-top: var(--spacing-s);
    padding-left: var(--spacing-l);
}
.household-members-card {
    grid-column: 1 / -1;
}
.member-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-s) 0;
    border-bottom: 1px solid #f0f0f0;
}


/* ===== 8. Nyt Dashboard Layout ===== */
.dashboard-layout {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--spacing-l);
}
.dashboard-main-column, .dashboard-sidebar-column {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-l);
}
.dashboard-widget {
    background: var(--white-color);
    border-radius: var(--card-border-radius);
    box-shadow: var(--strong-shadow);
    padding: var(--spacing-l);
}
.dashboard-widget h3 {
    margin-top: 0;
    margin-bottom: var(--spacing-m);
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
}
#welcome-widget h2 {
    margin-top: 0;
}
#welcome-summary {
    font-size: 1.1rem;
    color: #555;
}
/* NEW: Timeline Widget Styles */
.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-m);
}
.widget-header h3 {
    margin: 0;
}
.timeline-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-l);
}
.timeline-column {
    background-color: var(--secondary-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-m);
    min-height: 200px;
}
.timeline-column h4 {
    margin-top: 0;
    padding-bottom: var(--spacing-s);
    border-bottom: 1px solid var(--border-color);
    font-size: 1rem;
}
.timeline-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    padding: var(--spacing-s) 0;
    font-size: var(--small-font-size);
}
.timeline-item-icon {
    width: 24px;
    text-align: center;
    color: #888;
}
.timeline-item-icon .fa-utensils { color: var(--primary-color); }
.timeline-item-icon .fa-tasks { color: var(--accent-color); }
.timeline-item-icon .fa-birthday-cake { color: #E91E63; }
.timeline-item-icon .fa-calendar-check { color: #2196F3; }
.timeline-item-icon .fa-sticky-note { color: #FFA000; }
.timeline-item-text.is-complete {
    text-decoration: line-through;
    color: #999;
}
.timeline-item .countdown {
    margin-left: auto;
    font-weight: 700;
    color: var(--primary-color);
}
.timeline-item .countdown.soon {
    color: var(--status-red);
}
.timeline-item-text {
    flex-grow: 1;
}

#projects-focus-content .project-focus-item, #inventory-notifications-content .notification-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-m) 0;
    border-bottom: 1px solid var(--border-color);
}
#projects-focus-content .project-focus-item:last-child, #inventory-notifications-content .notification-item:last-child {
    border-bottom: none;
}
.project-focus-title, .notification-text {
    font-weight: 600;
}
.project-progress-bar {
    width: 100px;
    height: 8px;
    background-color: #eee;
    border-radius: 4px;
    overflow: hidden;
}
.project-progress-bar div {
    height: 100%;
    background-color: var(--accent-color);
}
.notification-item.expiring { color: var(--status-red); }
.notification-item.low-stock { color: var(--status-yellow); }
.notification-item.out-of-stock { color: var(--status-red); font-weight: 700; }
.stock-details { font-weight: normal; color: #666; font-size: 0.8em; }

#category-values-content .category-value-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    margin-bottom: var(--spacing-s);
}
#category-values-content .category-name {
    width: 120px;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
#category-values-content .category-bar-container {
    flex-grow: 1;
    background-color: #eee;
    border-radius: var(--border-radius);
    height: 20px;
}
#category-values-content .category-bar {
    background-color: var(--accent-color);
    height: 100%;
    border-radius: var(--border-radius);
    color: white;
    font-size: 0.75rem;
    line-height: 20px;
    text-align: right;
    padding-right: var(--spacing-s);
    white-space: nowrap;
}

/* Shopping Widget */
.shopping-widget-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-m);
}
.shopping-widget-item {
    border-radius: var(--border-radius);
    padding: var(--spacing-m);
    transition: transform 0.2s ease;
}
.shopping-widget-item.clickable:hover {
    transform: scale(1.03);
    cursor: pointer;
}
.shopping-widget-title {
    font-weight: 700;
    margin-bottom: var(--spacing-s);
    display: flex;
    align-items: center;
    gap: var(--spacing-s);
}
.shopping-widget-content {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    font-size: 0.9rem;
    color: #555;
}
.widget-price {
    font-weight: 600;
    color: var(--text-color);
}
.shopping-widget-item.groceries {
    background-color: #fff9e9;
    border: 1px solid #fadf98;
}
.shopping-widget-item.materials {
    background-color: var(--bosch-red);
    color: var(--white-color);
}
.shopping-widget-item.materials .widget-price {
    color: var(--white-color);
}
.shopping-widget-item.wishlist {
    background-color: #f4f4f4;
}
.wishlist-widget-preview {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-s);
    height: 50px;
}
.wishlist-widget-preview .preview-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px;
    background-color: #e0e0e0;
}
.wishlist-widget-preview .empty-state-small {
    grid-column: 1 / -1;
    align-self: center;
}

/* Quick Actions Widget */
.quick-actions-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-m);
}
.quick-action-btn {
    background-color: var(--secondary-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-m);
    text-align: center;
    text-decoration: none;
    color: var(--text-color);
    font-weight: 600;
    transition: background-color 0.2s ease;
}
.quick-action-btn:hover {
    background-color: #e9e5dc;
}
.quick-action-btn i {
    display: block;
    font-size: 1.5rem;
    margin-bottom: var(--spacing-s);
    color: var(--primary-color);
}
#add-calendar-event-modal .quick-actions-container {
    grid-template-columns: repeat(3, 1fr);
}

.hjem-content-container > div {
    margin-bottom: var(--spacing-xl);
}

.room-details-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-l);
}

.room-details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: var(--spacing-l);
}
.room-detail-card {
    background: var(--white-color);
    border-radius: var(--card-border-radius);
    box-shadow: var(--shadow);
    padding: var(--spacing-l);
    display: flex;
    flex-direction: column;
}
.room-detail-card h4 {
    margin-top: 0;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: var(--spacing-m);
}
.room-gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: var(--spacing-m);
}
.room-gallery img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: var(--border-radius);
}
.info-list .info-item {
    display: flex;
    justify-content: space-between;
    padding: var(--spacing-s) 0;
}
.info-list .info-item:not(:last-child) {
    border-bottom: 1px solid var(--border-color);
}
.info-list .info-label {
    font-weight: 600;
}

/* ===== 9. Modaler ===== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    padding: var(--spacing-l);
    box-sizing: border-box;
}

#plan-meal-modal, #edit-budget-modal, #reorder-assistant-modal, #batch-edit-modal, #project-edit-modal, #room-edit-modal, #impulse-purchase-modal, #add-calendar-event-modal, #day-details-modal, #maintenance-log-modal, #event-modal, #asset-modal, #liability-modal, #fixed-expense-modal, #transaction-edit-modal { z-index: 2010; }
#bulk-add-modal { z-index: 2015; }
#notification-modal { z-index: 2020; }
#add-expense-modal { z-index: 2010; }

.modal-content {
    background: var(--white-color);
    padding: var(--spacing-l);
    border-radius: var(--card-border-radius);
    width: 100%;
    max-width: 800px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
}
.modal-content.large {
    max-width: 1100px;
}
.modal-content.small {
    max-width: 450px;
}
#plan-meal-modal .modal-content,
#add-meal-modal .modal-content,
#edit-budget-modal .modal-content,
#reorder-assistant-modal .modal-content,
#batch-edit-modal .modal-content,
#impulse-purchase-modal .modal-content,
#maintenance-log-modal .modal-content,
#event-modal .modal-content {
    max-width: 550px;
}
#add-calendar-event-modal .modal-content {
    max-width: 650px;
}

#shopping-list-modal .modal-content {
    max-width: 700px;
}

.close-modal-btn {
    position: absolute;
    top: var(--spacing-m);
    right: var(--spacing-m);
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: #999;
    transition: color 0.2s ease;
}
.close-modal-btn:hover {
    color: var(--primary-color);
}

.modal-notification { max-width: 450px; text-align: center; }
.form-actions { margin-top: var(--spacing-l); display: flex; justify-content: flex-end; gap: var(--spacing-m); }

.input-group { margin-bottom: var(--spacing-m); }
.input-group label { display: block; margin-bottom: var(--spacing-s); font-weight: 600; }
.input-group input, .input-group textarea, .input-group select {
    width: 100%;
    padding: var(--spacing-m);
    border: 1px solid #ccc;
    border-radius: var(--border-radius);
    box-sizing: border-box;
}
.input-group input:not([type="checkbox"]), .input-group select {
    margin-top: var(--spacing-xs);
}
.input-group input.hidden {
    margin-top: var(--spacing-s);
}
.input-group-inline {
    display: flex;
    align-items: center;
    gap: var(--spacing-s);
}
.input-group-inline input[type="checkbox"] {
    width: auto;
}

.input-group input:focus, .input-group textarea:focus, .input-group select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(209, 96, 61, 0.15);
}

.meal-type-selector {
    display: flex;
    gap: var(--spacing-s);
}
.meal-type-selector .btn {
    flex: 1;
}
.meal-type-selector .btn.active {
    background-color: var(--accent-color);
    color: var(--white-color);
    border-color: var(--accent-color);
}


.form-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: var(--spacing-m) var(--spacing-l); }
.form-grid-2-col { display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-m) var(--spacing-l); align-items: end; }
.form-grid-3-col { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--spacing-m) var(--spacing-l); align-items: end; }

.read-view-image, .image-upload-container img {
    width: 100%;
    height: 250px;
    max-height: 250px;
    object-fit: cover;
    border-radius: var(--border-radius);
    margin-bottom: var(--spacing-l);
    background-color: #f0f0f0;
}

.read-view-actions {
    margin-top: var(--spacing-l);
    display: flex;
    flex-wrap: wrap;
    gap: var(--spacing-m);
}

.read-view-introduction {
    font-style: italic;
    background-color: var(--secondary-color);
    padding: var(--spacing-m);
    border-radius: var(--border-radius);
    margin-bottom: var(--spacing-l);
}

.read-view-main-content {
    display: grid;
    grid-template-columns: minmax(200px, 1fr) 2fr;
    gap: var(--spacing-l);
    margin-top: var(--spacing-l);
}

.read-view-ingredients {
    background-color: var(--secondary-color);
    padding: var(--spacing-m);
    border-radius: var(--border-radius);
}

.read-view-ingredients ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.read-view-ingredients li {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-s) 0;
    border-bottom: 1px solid var(--border-color);
}
.read-view-ingredients li:last-child {
    border-bottom: none;
}
.ingredient-stock-status {
    font-size: 1.2rem;
    margin-left: var(--spacing-m);
}
.ingredient-stock-status.in-stock { color: var(--status-green); }
.ingredient-stock-status.out-of-stock { color: var(--status-red); }
.ingredient-note {
    font-style: italic;
    color: #666;
    margin-left: var(--spacing-s);
}

#read-view-instructions-text p {
    margin-top: 0;
    margin-bottom: 1em;
}

#ingredients-container, #project-materials-container, #paint-list-container, #room-inventory-list-container, #room-wishlist-container, #project-links-container {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-m);
    background-color: var(--light-bg-color);
    padding: var(--spacing-m);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    margin: var(--spacing-m) 0;
}
.ingredient-row, .paint-row, .room-inventory-row, .wishlist-row, .project-link-row {
    position: relative;
    display: grid;
    grid-template-columns: 1fr auto;
    gap: var(--spacing-s);
    align-items: center;
}
.paint-row {
    grid-template-columns: 1fr 1fr 1fr auto;
}
.ingredient-row {
    grid-template-columns: 1fr auto auto auto auto;
}
.wishlist-row {
    grid-template-columns: 1fr 1fr auto auto;
}
.project-link-row {
    grid-template-columns: 1fr 1fr auto;
}
.ingredient-row input, .paint-row input, .room-inventory-row input, .wishlist-row input, .project-link-row input {
    border: 1px solid var(--border-color);
    padding: var(--spacing-s);
    border-radius: var(--border-radius);
}

.autocomplete-suggestions {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--white-color);
    border: 1px solid var(--border-color);
    border-top: none;
    border-radius: 0 0 var(--border-radius) var(--border-radius);
    box-shadow: var(--shadow);
    z-index: 10;
    max-height: 200px;
    overflow-y: auto;
}

.autocomplete-suggestion {
    padding: var(--spacing-m);
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.autocomplete-suggestion:hover {
    background-color: var(--secondary-color);
}

.autocomplete-suggestion strong {
    color: var(--primary-color);
}

.ingredient-row .ingredient-name {
    flex-grow: 1;
}
.ingredient-row .ingredient-quantity {
    width: 70px;
    text-align: right;
}
.ingredient-row .ingredient-unit {
    width: 80px;
}
.ingredient-row .ingredient-note-input {
    width: 150px;
}

.ingredient-row .remove-ingredient-btn, .paint-row .remove-paint-btn, .room-inventory-row .remove-room-inventory-btn, .wishlist-row .remove-wishlist-item-btn, .project-link-row .remove-project-link-btn {
    color: #adb5bd;
}
.ingredient-row .remove-ingredient-btn:hover, .paint-row .remove-paint-btn:hover, .room-inventory-row .remove-room-inventory-btn:hover, .wishlist-row .remove-wishlist-item-btn:hover, .project-link-row .remove-project-link-btn:hover {
    color: var(--status-red);
}

.switch-group {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--light-bg-color);
    padding: var(--spacing-m);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
}
.switch { position: relative; display: inline-block; width: 50px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; }
.slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; }
input:checked + .slider { background-color: var(--accent-color); }
input:checked + .slider:before { transform: translateX(22px); }
.slider.round { border-radius: 28px; }
.slider.round:before { border-radius: 50%; }

#reorder-list-container {
    max-height: 50vh;
    overflow-y: auto;
    padding: var(--spacing-s);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
}
.reorder-category h4 {
    margin: var(--spacing-m) 0;
    padding-bottom: var(--spacing-s);
    border-bottom: 2px solid var(--secondary-color);
}
.reorder-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    padding: var(--spacing-m) 0;
    border-bottom: 1px solid #f0f0f0;
}
.reorder-item:last-child {
    border-bottom: none;
}
.reorder-item label {
    flex-grow: 1;
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    font-weight: normal;
}
.reorder-item .item-name {
    font-weight: 600;
}
.reorder-item .stock-info {
    font-size: var(--small-font-size);
    color: #666;
    margin-left: auto;
}

/* ===== 10. Billedupload & Input Wrappers ===== */
.image-options {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    margin-bottom: var(--spacing-m);
    flex-wrap: wrap;
}
.image-options .input-group {
    flex-grow: 1;
    margin-bottom: 0;
}
.image-option-divider {
    color: #777;
    font-weight: 600;
}

.project-image-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-l);
    margin-bottom: var(--spacing-l);
}
.project-image-container .image-upload-container {
    display: flex;
    flex-direction: column;
}
.project-image-container .image-upload-container h4 {
    margin-top: 0;
    text-align: center;
}
.project-image-container .image-upload-container img {
    height: 150px;
    margin-bottom: var(--spacing-m);
}
.project-image-container .image-options {
    flex-direction: column;
    align-items: stretch;
    gap: var(--spacing-s);
}
.project-image-container .image-options input[type="url"]{
    width: 100%;
}

.price-input-wrapper, .unit-input-wrapper {
    position: relative;
}
.price-input-wrapper::after, .unit-input-wrapper span {
    position: absolute;
    right: var(--spacing-m);
    top: 50%;
    transform: translateY(-50%);
    color: #888;
    font-weight: 600;
}
.price-input-wrapper::after {
    content: 'kr.';
}


/* ===== Varelager Modal Specifikke Styles ===== */
#inventory-item-form .form-section-box {
    background-color: var(--white-color);
    border: 1px solid var(--border-color);
    border-radius: var(--border-radius);
    padding: var(--spacing-l);
    margin-bottom: var(--spacing-l);
}
#inventory-item-form .form-section-box h4 {
    margin-top: 0;
    padding-bottom: var(--spacing-m);
    border-bottom: 2px solid var(--secondary-color);
}
#inventory-item-form .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#batch-list-container {
    margin-top: var(--spacing-m);
    max-height: 250px;
    overflow-y: auto;
}

.conversion-rule-row {
    display: grid;
    grid-template-columns: auto 1fr auto 1fr auto auto;
    gap: var(--spacing-s);
    align-items: center;
    margin-bottom: var(--spacing-s);
}
.conversion-rule-row .input-group {
    margin: 0;
}

/* ===== 11. Økonomi Side Styles ===== */
.economy-tabs {
    display: flex;
    gap: var(--spacing-s);
    border-bottom: 1px solid var(--border-color);
    margin-bottom: var(--spacing-l);
}
.economy-tab-btn {
    padding: var(--spacing-m) var(--spacing-l);
    border: none;
    background: none;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    color: #777;
    border-bottom: 3px solid transparent;
    transition: all 0.2s ease;
}
.economy-tab-btn:hover {
    color: var(--primary-color);
}
.economy-tab-btn.active {
    color: var(--primary-color);
    border-bottom-color: var(--primary-color);
}
.economy-view {
    display: none;
}
.economy-view.active {
    display: block;
    animation: fadeIn 0.5s ease-in-out;
}

/* Formue Visning */
.net-worth-header {
    margin-bottom: var(--spacing-l);
}
.net-worth-summary-card {
    display: flex;
    justify-content: space-around;
    background-color: var(--light-bg-color);
    padding: var(--spacing-l);
    border-radius: var(--card-border-radius);
    text-align: center;
}
.net-worth-summary-item span {
    display: block;
    font-size: var(--small-font-size);
    color: #666;
}
.net-worth-summary-item strong {
    font-size: 1.5rem;
    color: var(--text-color);
}
.net-worth-summary-item.net-worth-total strong {
    color: var(--accent-color);
}

.asset-liability-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-l);
}
.asset-column, .liability-column {
    background: var(--white-color);
    padding: var(--spacing-l);
    border-radius: var(--card-border-radius);
    box-shadow: var(--shadow);
}
.asset-card, .liability-card {
    padding: var(--spacing-m);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    margin-bottom: var(--spacing-m);
    cursor: pointer;
    transition: box-shadow 0.2s ease;
}
.asset-card:hover, .liability-card:hover {
    box-shadow: var(--shadow);
}
.asset-card h5, .liability-card h5 {
    margin: 0 0 var(--spacing-s) 0;
    color: var(--text-color);
}

.fixed-expense-item {
    display: flex;
    justify-content: space-between;
    padding: var(--spacing-m);
    border-radius: var(--border-radius);
    cursor: pointer;
    border: 1px solid transparent;
}
.fixed-expense-item:hover {
    background-color: var(--secondary-color);
    border-color: var(--border-color);
}

/* NYT: Opsparings-Dashboard */
.savings-dashboard-grid {
    display: grid;
    grid-template-columns: 1fr 2fr;
    gap: var(--spacing-l);
    align-items: center;
    margin-bottom: var(--spacing-l);
}
.savings-numbers {
    display: flex;
    justify-content: space-around;
    text-align: center;
}
.savings-label {
    display: block;
    font-size: 1rem;
    font-weight: 600;
    color: #666;
}
.savings-value {
    display: block;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary-color);
}
#savings-progress-bar-container {
    height: 20px;
    background-color: var(--border-color);
    border-radius: 10px;
    overflow: hidden;
}
#savings-progress-bar-inner {
    height: 100%;
    background-color: var(--accent-color);
    border-radius: 10px;
    transition: width 0.5s ease-in-out, background-color 0.5s ease;
}


/* ===== 12. Responsive Design ===== */
@media (max-width: 992px) {
    .desktop-nav {
        display: none;
    }
    .mobile-tab-bar {
        display: flex;
    }
    .dashboard-layout {
        grid-template-columns: 1fr;
    }
    .page {
        padding: var(--spacing-m);
    }
    header {
        padding: 0 var(--spacing-m);
    }
    .calendar-week-day-header .date-number {
        display: block;
    }
    .inventory-filters {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
    #inventory .actions-bar {
        display: flex;
    }
    #add-fixed-expense-form {
        grid-template-columns: 1fr;
    }
    .asset-liability-layout {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .read-view-main-content {
        grid-template-columns: 1fr;
    }
    .form-grid-3-col, .form-grid-2-col {
        grid-template-columns: 1fr;
    }
    .recipe-actions-bar, #inventory .actions-bar {
        flex-direction: column;
        align-items: stretch;
        gap: var(--spacing-m);
    }

    .modal-content {
        padding: var(--spacing-m);
        max-height: 85vh;
        margin-top: 5vh;
        margin-bottom: 5vh;
    }
    .form-grid {
        grid-template-columns: 1fr;
    }
    .image-upload-container img {
        height: 150px;
    }
    .inventory-filters {
        grid-template-columns: 1fr;
    }
    .project-image-container {
        grid-template-columns: 1fr;
    }
    #add-calendar-event-modal .quick-actions-container {
        grid-template-columns: 1fr;
    }
    .expense-split-row {
        grid-template-columns: 1fr;
    }
    .timeline-grid {
        grid-template-columns: 1fr;
    }
    .savings-dashboard-grid {
        grid-template-columns: 1fr;
    }
}

/* =================================================================
   NYT: ØKONOMI DASHBOARD TEMA
   ================================================================= */

#oekonomi.page {
    background: linear-gradient(180deg, #e9f1f8 0%, #f5f5f5 300px);
    padding-top: var(--spacing-xl);
}

.economy-dashboard-layout {
    display: grid;
    grid-template-columns: 2fr 1fr;
    grid-template-areas:
        "header header"
        "main sidebar";
    gap: var(--spacing-l);
}

.economy-header {
    grid-area: header;
}
.economy-header h2 {
    color: #2c3e50;
    margin: 0;
}
.economy-header p {
    color: #7f8c8d;
    margin: 0;
}

.economy-main {
    grid-area: main;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-l);
}

.economy-sidebar {
    grid-area: sidebar;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-l);
}

.economy-month-navigator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-l);
    background-color: var(--white-color);
    padding: var(--spacing-s);
    border-radius: var(--card-border-radius);
    box-shadow: var(--shadow);
}
.economy-month-navigator h3 {
    margin: 0;
    color: var(--text-color);
    min-width: 200px;
    text-align: center;
}

.economy-summary-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-l);
}

.economy-summary-card,
.new-transaction-form,
.transactions-list,
.economy-sidebar-widget,
.spending-categories-summary {
    background-color: var(--white-color);
    border-radius: var(--card-border-radius);
    padding: var(--spacing-l);
    box-shadow: var(--shadow);
}

.economy-summary-card h4 {
    margin: 0 0 var(--spacing-s) 0;
    color: #7f8c8d;
    font-size: 1rem;
    font-family: var(--body-font);
    font-weight: 600;
}
.economy-summary-card p {
    margin: 0;
    font-size: 2rem;
    font-weight: 700;
    color: #2c3e50;
}

.new-transaction-form h4,
.transactions-list h4,
.economy-sidebar-widget h5,
.spending-categories-summary h4 {
    margin-top: 0;
    color: var(--text-color);
    font-family: var(--body-font);
    font-weight: 700;
}

.transactions-list table {
    width: 100%;
    border-collapse: collapse;
    margin-top: var(--spacing-m);
}
.transactions-list th, .transactions-list td {
    padding: var(--spacing-m);
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}
.transactions-list th {
    font-size: var(--small-font-size);
    color: #7f8c8d;
    font-weight: 600;
}
.transactions-list tbody tr {
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.transactions-list tbody tr:hover {
    background-color: var(--secondary-color);
}
.transactions-list .text-right {
    text-align: right;
}
.transactions-list .expense-amount {
    color: var(--status-red);
    font-weight: 600;
}
.transactions-list .income-amount {
    color: var(--status-green);
    font-weight: 600;
}

.economy-sidebar-widget .btn {
    width: 100%;
    margin-top: var(--spacing-m);
}
#net-worth-widget .form-actions {
    flex-direction: column;
    gap: var(--spacing-s);
}
#net-worth-widget .btn {
    width: 100%;
    margin: 0;
}


#net-worth-widget h6 {
    font-family: var(--body-font);
    font-size: 0.9rem;
    color: var(--text-color);
    margin: var(--spacing-m) 0 var(--spacing-s) 0;
    padding-bottom: var(--spacing-xs);
    border-bottom: 1px solid var(--border-color);
}

.economy-item-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-s);
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.economy-item-row:hover {
    background-color: var(--secondary-color);
}

.economy-item-value {
    font-weight: 600;
}

.category-summary-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-m);
    margin-bottom: var(--spacing-s);
}
.category-summary-item .category-name {
    width: 120px;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
.category-summary-item .category-bar-container {
    flex-grow: 1;
    background-color: #eee;
    border-radius: var(--border-radius);
    height: 20px;
}
.category-summary-item .category-bar {
    background-color: var(--accent-color);
    height: 100%;
    border-radius: var(--border-radius);
}
.category-summary-item .category-amount {
    font-weight: 600;
    width: 100px;
    text-align: right;
}


@media (max-width: 992px) {
    .economy-dashboard-layout {
        grid-template-columns: 1fr;
        grid-template-areas:
            "header"
            "main"
            "sidebar";
    }
    .economy-summary-grid {
        grid-template-columns: 1fr;
    }
}
